---
author: admin
categories:
- Technical
date: 2024-06-08 19:46:00-07:00
markup: html
source: wordpress
tags:
- linux
title: URI handlers in Linux
updated: 2024-06-09 08:22:47-07:00
wordpress_id: 1398
wordpress_slug: url-handlers-in-linux
---
<!-- blogpost -->
<div class="entry-content">
<p>When you click an email address, it automatically opens in your email client. But I don’t have an email client, I use webmail. I wrote a custom handler for Linux.<br/><br/>First write a program to open <a href="https://en.wikipedia.org/wiki/Mailto">mailto</a> links. Mailto links look like “<strong>mailto:me@mail.com</strong>” or maybe even “<strong>mailto:me@mail.com?subject=mysubject&amp;body=mybody</strong>“. Test it by hand on a few links. Mine (<a href="https://github.com/za3k/short-programs?tab=readme-ov-file#mailto-opener">mailto-opener</a>) composes a new message using my webmail.</p>
<p>Next, write a desktop file for the opener. Here’s one:</p>
<pre class="wp-block-code"><code>#/usr/local/share/applications/mailto-opener.desktop 
[Desktop Entry]
Type=Application
Name=mailto: link opener (github.com/za3k/short-programs)

# The executable of the application, possibly with arguments.
Exec=/home/zachary/.projects/short-programs/mailto-opener %u</code></pre>
<p>Note the %u in the <strong>Exec=</strong> line. That’s required.</p>
<p>Now update your system mimetype database. On my Arch Linux install, I run</p>
<pre class="wp-block-code"><code><code>xdg-mime default mailto-opener.desktop x-scheme-handler/mail</code>to</code></pre>
<p>Finally, restart your browser. Really. Firefox and Chromium/Chrome both cache mimetype openers.</p>
<hr class="wp-block-separator has-alpha-channel-opacity"/>
<p>A related opener I added recently was for <a href="https://en.wikipedia.org/wiki/Magnet_URI_scheme">magnet links</a>, such as are popularly used for bittorrent.</p>
<pre class="wp-block-code"><code>~ $ cat /usr/local/share/applications/transmission-remote.desktop 
[Desktop Entry]
Type=Application
Name=transmission-remote magnet link opener
Exec=transmission-remote &lt;TRANSMISSION INSTANCE&gt; -a</code></pre>
<p><code>transmission-remote</code> is the name of a command-line Linux program. It connects to an instance of Tranmission (a popular torrent client) running on another machine.</p>
</div>

<!-- comments -->
