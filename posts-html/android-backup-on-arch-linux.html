---
author: admin
categories:
- Technical
date: 2014-11-23 13:51:31-07:00
markup: html
source: wordpress
tags:
- android
- arch linux
- backup
- phone
- system administration
title: Android backup on arch linux
updated: 2015-04-24 02:41:58-07:00
wordpress_id: 63
wordpress_slug: android-backup-on-arch-linux
---
<!-- blogpost -->
<div class="entry-content">
<p>Edit: See <a href="https://blog.za3k.com/backup-android-on-plugin/" title="Backup android on plugin">here</a> for an automatic version of the backup portion.</p>
<p>Connecting android to Windows and Mac, pretty easy. On arch linux? Major pain. Here’s what I did, mostly via the help of the <a href="https://wiki.archlinux.org/index.php/MTP" title="arch wiki">arch wiki</a>:</p>
<ol>
<li>Rooted my phone. Otherwise you can’t back up major parts of the file system (including text messages and most application data) [EDIT: Actually, you can’t back these up over MTP even once you root your phone. Oops.]</li>
<li>Installed <a href="https://aur.archlinux.org/packages/jmtpfs/" title="jmtpfs">jmtpfs</a>, a FUSE filesystem for mounting MTP, the new alternative to mount-as-storage on portable devices.</li>
<li>Enabled ‘user_allow_other’ in /etc/fuse.conf. I’m not sure if I <strong>needed</strong> to, but I did.</li>
<li>Plugged in the phone, and mounted the filesystem:
<pre>jmtpfs /media/android</pre>
<p>The biggest pitfall I had was that if the phone’s screen is not unlocked at this point, mysterious failures will pop up later.</p></li>
<li>Synced the contents of the phone. For reasons I didn’t diagnose (I assume specific to FUSE), this actually fails as root:
<pre>rsync -aAXv --progress --fake-super --one-file-system /media/android --delete --delete-excluded "$SYNC_DESTINATION"
</pre>
</li>
</ol>
</div>

<!-- comments -->
