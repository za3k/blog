---
author: admin
categories:
- Technical
date: 2023-06-09 13:28:55-07:00
markup: html
source: wordpress
tags:
- hacks
- hardware
- zorchpad
title: DIY keyboards (and how keyboards work)
updated: 2023-06-12 13:20:11-07:00
wordpress_id: 1059
wordpress_slug: diy-keyboards-and-how-keyboards-work
---
<!-- blogpost -->
<article class="post-1059 post type-post status-publish format-standard hentry category-technical tag-hacks tag-hardware tag-zorchpad" id="post-1059">
<h1 class="entry-title">DIY keyboards (and how keyboards work)</h1>
<div class="entry-meta">
<span class="author vcard"> By  <a class="url fn n" href="https://blog.za3k.com/author/admin/" rel="author" title="View all posts by admin">admin</a> <span class="bl_sep">|</span></span> <time class="onDate date published" datetime="2023-06-09T13:28:55-07:00"> <a href="https://blog.za3k.com/diy-keyboards-and-how-keyboards-work/" rel="bookmark" title="1:28 pm"><span class="entry-date">June 9, 2023</span> <span class="entry-time"> - 1:28 pm</span></a> </time><span class="bl_sep">|</span><time class="updated" datetime="2023-06-12T13:20:11-07:00">June 12, 2023</time> <span class="bl_categ"> <a href="https://blog.za3k.com/category/technical/" rel="tag">Technical</a> </span> </div><!-- .entry-meta -->
<div class="entry-content">
<p>I’ve been pondering simple input methods for microcontrollers. One obvious idea is, a keyboard! But for some reason, my USB keyboards use a staggering amount of power compared to my microcontrollers–1W of power for my mechanical keyboards, maybe 0.1W for the regular ones.</p>
<p>Let’s look inside a commercial keyboard, and see if we can hook up to it:</p>
<figure class="wp-block-image size-large"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/commercial-scaled.jpg"><img alt="a photograph of the interior of a commercial keyboard. there is a PCB, with two layers of flexible conductor on top, all clamped down" class="wp-image-1061" decoding="async" fetchpriority="high" height="549" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.za3k.com/wp-content/uploads/2023/06/commercial-1024x549.jpg" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/commercial-1024x549.jpg 1024w, https://blog.za3k.com/wp-content/uploads/2023/06/commercial-300x161.jpg 300w, https://blog.za3k.com/wp-content/uploads/2023/06/commercial-768x412.jpg 768w, https://blog.za3k.com/wp-content/uploads/2023/06/commercial-1536x823.jpg 1536w, https://blog.za3k.com/wp-content/uploads/2023/06/commercial-2048x1097.jpg 2048w, https://blog.za3k.com/wp-content/uploads/2023/06/commercial-150x80.jpg 150w, https://blog.za3k.com/wp-content/uploads/2023/06/commercial-250x134.jpg 250w" width="1024"/></a></figure>
<p>Yikes. What’s going on? Well, let’s make our own little keyboard, and explore what’s going on. We’ll build it in three layers, or “index cards”:</p>
<figure class="wp-block-image size-large"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-scaled.jpg"><img alt="" class="wp-image-1062" decoding="async" height="1024" sizes="(max-width: 694px) 100vw, 694px" src="https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-694x1024.jpg" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-694x1024.jpg 694w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-203x300.jpg 203w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-768x1134.jpg 768w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-1041x1536.jpg 1041w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-1388x2048.jpg 1388w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-102x150.jpg 102w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_parts-scaled.jpg 1735w" width="694"/></a></figure>
<p>The bottom layer has 6 vertical stripes. The top layer has 3 horizontal stripes. Each place they cross will be a “key” you can press.</p>
<p>In between them, we add a spacer layer (punched holes) so they keys are “up” by default, and you have to press them to make them connect.</p>
<p>This picture might help explain how they will go together:</p>
<figure class="wp-block-image size-large"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-scaled.jpg"><img alt="" class="wp-image-1076" decoding="async" height="705" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-1024x705.jpg" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-1024x705.jpg 1024w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-300x206.jpg 300w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-768x528.jpg 768w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-1536x1057.jpg 1536w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-2048x1409.jpg 2048w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-150x103.jpg 150w, https://blog.za3k.com/wp-content/uploads/2023/06/copper_layers-218x150.jpg 218w" width="1024"/></a></figure>
<p>Now we assemble:</p>
<figure class="wp-block-image size-full"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/copper_small.gif"><img alt="" class="wp-image-1064" decoding="async" height="432" loading="lazy" src="https://blog.za3k.com/wp-content/uploads/2023/06/copper_small.gif" width="768"/></a></figure>
<p>The final keyboard has 6 x 3 = 18 “keys”. We write the hex digits plus a couple extra keys with marker.</p>
<p>If I attach alligator clips to the second horizontal screw terminal, and fourth vertical screw terminals, and wire a battery and buzzer with the terminals, I get a connection beep only when I press the key “A”:</p>
<figure class="wp-block-image size-large"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/address-scaled.jpg"><img alt='Two terminals with alligator clips attached to row and column terminals, and a screwdriver pointing at the "A" key addressed.' class="wp-image-1073" decoding="async" height="622" loading="lazy" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.za3k.com/wp-content/uploads/2023/06/address-1024x622.jpg" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/address-1024x622.jpg 1024w, https://blog.za3k.com/wp-content/uploads/2023/06/address-300x182.jpg 300w, https://blog.za3k.com/wp-content/uploads/2023/06/address-768x466.jpg 768w, https://blog.za3k.com/wp-content/uploads/2023/06/address-1536x933.jpg 1536w, https://blog.za3k.com/wp-content/uploads/2023/06/address-2048x1244.jpg 2048w, https://blog.za3k.com/wp-content/uploads/2023/06/address-150x91.jpg 150w, https://blog.za3k.com/wp-content/uploads/2023/06/address-247x150.jpg 247w" width="1024"/></a></figure>
<p>In a real computer, we obviously can’t just move alligator clips around. Instead, we attach wires to all 9 posts–three outputs wires for the horizontal lines, and six inputs for the vertical lines. We output a signal on the first horizontal line, and see if we can read it from any of the six vertical lines inputs. Then we output a signal on the second horizontal line, and see if we can read it, and so on for the third. Assuming only one key is pressed (or none), we can identify the key. This “scanning” process could be done thousands of times a second, rapidly enough that it can’t miss our slowpoke human fingers.</p>
<figure class="wp-block-image size-large"><a href="http://falstad.com/circuit/circuitjs.html?ctz=CQAgjCAMB0l3BWK0AckDMYwE4As3sA2SQgdgCYFsQFIaRd0aBTAWiwCgBncQ8bciEK4Q5XHToQALgCcArs24gi-QWFwixE8CFkKllPjkHpIm8VEt7FPMKSMDRY0Rcm75NhmAeDcwl9rSHkro6D4g6Cjmge76PKF8hhFREWaWQXFeiQh8fiKmIm7WSnbZic4F6bGeSUmVlUXBPCpJ6vlpjZneojlC7YU6xfFh4OQoySKlVUNZo+N54PbTTYtGY06TS501vWDrlVPbSip7422ry11r4-6Hg8EA7rxzytdQHE8n61On708-61a60gHx6bwSLxBTwhv1w3V+UOexleqj+KORP0ciMxglaWNBeJMI2RiJhjjh4URFLBERGSVJdN6tV6iOZRiW9NBUySLRZoN5RjKaP8Wj6qUKXI04vAUtF2NlFnOhwJzm5zjlKuiG2lpLS9TSGuhBosBy2oMimz4FoCaOtoutDVBCymC0NDBFFgWjqetyWHokHAASmL-P50IJtBYkNoYAgODIQyJbnt0vBEcnBL6+PLJimlWaE+dblKsBHwGmgzKk5MpeHLHQo-XkHGnuRVSm25b3gnO2Le6XU-BK72RRUyw26NH69AW9KB6bs-HpWG0gPJBXg5UV-lxwxJ03Y+aUvPjwWJmLrWvy0PNykwyk65H9zGZ06M+6uyCEwt-M6U+ubw-MUvV3RsX1ndg3nhYFQUg1F4XxJ44NaIUQQADxAVhxDoUIkEg0haXmFwQBkAB7B4AB0uC4ABjABDAA7KiAHNmAY5gZDoqRSJkDgACNwCQLARFwFBqFMah0JoEhwFCIRVRGcwQAAa2YABPLgHgASykGiAAsOAw2hBUnY9CCYJSAFsuJkLS0MMzDxAgMIRFYUgkDCAilIACjomipC0gA3ZgqIAG3IgAaKjSIABzYqiaNI0LQuYfyeIASgcvYCOocQCJTJTEtCuRLKYrgYrkZK5BiqiZGYLgtK4biZC4BysIwZJBHYchxJQJBJkELSysgcgRvQKipD0xqqOmrg+Mq0KuCmqQoq4OQuBCrg6KoyytJosjEoY2QkpS3iAFkgMqRgiWzURXwuh09QQG7LHIe7tQORwIToN64wevUDQoWlbt+jgLu3CIXp+97zgOFNvruuNvCYLD4SWVgwjOJYED2K16ADZjHO6UVUcSFBxgDJDqVG8ZSZtEFgwx48pSZkQTlEaToaQX7pwghCuoHElYOg2machDgpEc8ZyCB5CgbcXAZ0IbBSHUMAED6nBCDAdA2A1wcQAAE2YAAzOjKqkDhCeQ8nMO6BGvyl0RZZaeXr0RDHRptT2fvliW7dlSBaYHMW3Cw6ACEj7AxJ6tNBAQWAo+jgRCBxlAxDYagwDgI3TfN0LLetkPnHYDtXG7APNCDu2OWrgCPe5aufdEOvYNdrrw19iNYJltQWc7qsK9YUVzmHoHznrq3MLF7w6GH6u7hBSXh8VFmZ6lNwYHM0xVaoMAolIdB8EKaBU8gSOok88Q8CznPjbNi3YIH0fn7NDCx7ZgWZOwfrRhAWK2KsCKilNKMgqKBgACoABkZoMWCjIKQHFWpAA"><img alt="Schematic of a keyboard, provided by Kragen" class="wp-image-1081" decoding="async" height="414" loading="lazy" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.za3k.com/wp-content/uploads/2023/06/schematic-1024x414.png" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/schematic-1024x414.png 1024w, https://blog.za3k.com/wp-content/uploads/2023/06/schematic-300x121.png 300w, https://blog.za3k.com/wp-content/uploads/2023/06/schematic-768x311.png 768w, https://blog.za3k.com/wp-content/uploads/2023/06/schematic-150x61.png 150w, https://blog.za3k.com/wp-content/uploads/2023/06/schematic-250x101.png 250w, https://blog.za3k.com/wp-content/uploads/2023/06/schematic.png 1080w" width="1024"/></a><figcaption class="wp-element-caption">Click to view interactive schematic (credit: Kragen)</figcaption></figure>
<p>And this is how most keyboards work. There are some special keys–Shift, Ctrl, Alt, etc might be on their very own line, since we want to detect key combos. And better keyboards can detect multiple keys being pressed at once (N-key rollover), <s>which I think they do by having a completely separate wire to each key</s> which multiple people tell me they do with a diode next to each key.</p>
<p>For the above project, I used:</p>
<ul>
<li>Three index cards</li>
<li>A hole punch</li>
<li>Scissors</li>
<li>A ruler</li>
<li>A pen (NOT a pencil, since graphite is conductive)</li>
<li>9 screws, 9 nuts, and 18 washes. I selected #6 American Wire Gauge, which is about 4mm thickness</li>
<li><a href="https://www.amazon.com/dp/B07JNJCNVT">Copper tape</a></li>
</ul>
<p>Did this work perfectly? Definitely not.</p>
<ul>
<li>On some keyboards I’ve made, you have to press quite hard.</li>
<li>My multimeter takes a while to register a press. I think a microcontroller would be better.</li>
<li>You have to attach the terminals carefully. I think what’s going on is that you can actually put the screw <em>exactly</em> through the center of the washer which is actually making contact with the strips, so that only the washer is attached, and the screw doesn’t rub against the washer.</li>
<li>It’s of course fairly easy to mis-align anything. This is pretty easy to fix with care. I used the “spacer” grid to draw the centerpoint of the printed letters.</li>
<li>The screw heads are a bit thick, so it’s hard to press the keys in the column/row next to the screws. A piece of backing cardboard might fix this.</li>
</ul>
<p>This was my third attempt. Here’s the second, using aluminium foil. It worked at least as well, maybe better, but it was harder to make. I just taped the foil down, taking care not to cover the contact points. I am told the aluminium will gradually oxidize, making it non-conductive.</p>
<figure class="wp-block-gallery has-nested-images columns-5 is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex">
<figure class="wp-block-image size-thumbnail"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_parts-scaled.jpg"><img alt="" class="wp-image-1071" data-id="1071" decoding="async" height="150" loading="lazy" src="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_parts-150x150.jpg" width="150"/></a></figure>
<figure class="wp-block-image size-thumbnail"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_layers-scaled.jpg"><img alt="" class="wp-image-1070" data-id="1070" decoding="async" height="150" loading="lazy" src="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_layers-150x150.jpg" width="150"/></a></figure>
<figure class="wp-block-image size-thumbnail"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_03-scaled.jpg"><img alt="" class="wp-image-1069" data-id="1069" decoding="async" height="150" loading="lazy" src="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_03-150x150.jpg" width="150"/></a></figure>
<figure class="wp-block-image size-thumbnail"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_01-scaled.jpg"><img alt="" class="wp-image-1067" data-id="1067" decoding="async" height="150" loading="lazy" src="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_01-150x150.jpg" width="150"/></a></figure>
<figure class="wp-block-image size-thumbnail"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_02-scaled.jpg"><img alt="" class="wp-image-1068" data-id="1068" decoding="async" height="150" loading="lazy" src="https://blog.za3k.com/wp-content/uploads/2023/06/aluminium_02-150x150.jpg" width="150"/></a></figure>
<figure class="wp-block-image size-large"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/side_view-scaled.jpg"><img alt="" class="wp-image-1072" data-id="1072" decoding="async" height="576" loading="lazy" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.za3k.com/wp-content/uploads/2023/06/side_view-1024x576.jpg" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/side_view-1024x576.jpg 1024w, https://blog.za3k.com/wp-content/uploads/2023/06/side_view-300x169.jpg 300w, https://blog.za3k.com/wp-content/uploads/2023/06/side_view-768x432.jpg 768w, https://blog.za3k.com/wp-content/uploads/2023/06/side_view-1536x864.jpg 1536w, https://blog.za3k.com/wp-content/uploads/2023/06/side_view-2048x1152.jpg 2048w, https://blog.za3k.com/wp-content/uploads/2023/06/side_view-150x84.jpg 150w, https://blog.za3k.com/wp-content/uploads/2023/06/side_view-250x141.jpg 250w" width="1024"/></a></figure>
</figure>
<p>And here’s one using graphite from drawing hard with a #2 pencil.. Graphite, it turns out, works terribly, and I couldn’t read a signal halfway down the index card. Despite what people have told me, I’m not yet convinced you can make a conductive wire out of it.</p>
<figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-2 is-layout-flex wp-block-gallery-is-layout-flex">
<figure class="wp-block-image size-large"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-scaled.jpg"><img alt="" class="wp-image-1065" data-id="1065" decoding="async" height="442" loading="lazy" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-1024x442.jpg" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-1024x442.jpg 1024w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-300x129.jpg 300w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-768x331.jpg 768w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-1536x662.jpg 1536w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-2048x883.jpg 2048w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-150x65.jpg 150w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_parts-250x108.jpg 250w" width="1024"/></a></figure>
<figure class="wp-block-image size-large"><a href="https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-scaled.jpg"><img alt="" class="wp-image-1066" data-id="1066" decoding="async" height="666" loading="lazy" sizes="(max-width: 1024px) 100vw, 1024px" src="https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-1024x666.jpg" srcset="https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-1024x666.jpg 1024w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-300x195.jpg 300w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-768x499.jpg 768w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-1536x999.jpg 1536w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-2048x1331.jpg 2048w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-150x98.jpg 150w, https://blog.za3k.com/wp-content/uploads/2023/06/graphite_done-231x150.jpg 231w" width="1024"/></a></figure>
</figure>
</div><!-- .entry-content -->
<div class="entry-utility">
<span class="bl_posted">Tagged <a href="https://blog.za3k.com/tag/hacks/" rel="tag">hacks</a>, <a href="https://blog.za3k.com/tag/hardware/" rel="tag">hardware</a>, <a href="https://blog.za3k.com/tag/zorchpad/" rel="tag">zorchpad</a>.</span><span class="bl_bookmark"> Bookmark the  <a href="https://blog.za3k.com/diy-keyboards-and-how-keyboards-work/" rel="bookmark" title="Permalink to DIY keyboards (and how keyboards work)"> permalink</a>.</span> </div><!-- .entry-utility -->
</article>

<!-- comments -->
<ol class="commentlist">
<li class="comment even thread-even depth-1" id="li-comment-10102">
<div id="comment-10102">
<div class="comment-author vcard">
<img alt="" class="avatar avatar-40 photo" decoding="async" height="40" loading="lazy" src="https://secure.gravatar.com/avatar/f9bddb456724b83c643af6f44ae32042?s=40&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f9bddb456724b83c643af6f44ae32042?s=80&amp;d=mm&amp;r=g 2x" width="40"/><cite class="fn">nortti</cite> <span class="says">says:</span>
</div><!-- .comment-author .vcard -->
<div class="comment-meta commentmetadata"><a href="https://blog.za3k.com/diy-keyboards-and-how-keyboards-work/#comment-10102">
			June 9, 2023 at 2:43 pm</a> </div><!-- .comment-meta .commentmetadata -->
<div class="comment-body">
<p>“And better keyboards can detect multiple keys being pressed at once (N-key rollover), which I think they do by having a completely separate wire to each key.”</p>
<p>You can keep a matrix arrangement and have N-key rollover by putting a diode in series with every switch</p>
</div>
<div class="reply">
<a aria-label="Reply to nortti" class="comment-reply-link" data-belowelement="comment-10102" data-commentid="10102" data-postid="1059" data-replyto="Reply to nortti" data-respondelement="respond" href="https://blog.za3k.com/diy-keyboards-and-how-keyboards-work/?replytocom=10102#respond" rel="nofollow">Reply</a> </div><!-- .reply -->
</div><!-- #comment-##  -->
</li><!-- #comment-## -->
</ol>