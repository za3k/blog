---
author: admin
categories:
- Technical
date: 2014-11-08 09:52:14-07:00
markup: html
source: wordpress
tags:
- backup
- git
- github
- system administration
title: Archiving github
updated: 2014-11-22 09:47:39-07:00
wordpress_id: 41
wordpress_slug: archiving-github
---
<!-- blogpost -->
<div class="entry-content">
<p><a href="https://github.com/clockfort/GitHub-Backup" title="GitHub-Backup">GitHub-Backup</a> is a small project to archive github repos to a local computer. It advertises that one reason to use it is</p>
<blockquote><p>You are paranoid tinfoil-hat wearer who needs to back up everything in triplicate on a variety of outdated tape media.</p></blockquote>
<p>which describes why I was searching it out perfectly.</p>
<p>I made a new account on my server (github) and cloned their repo.</p>
<pre>sudo useradd -m github
sudo -i- u github
git clone git@github.com:clockfort/GitHub-Backup.git
</pre>
<p>Despite being semi-unmaintained, everything mostly works still. There were two exceptions–some major design problems around private repos. I only need to back up my public repos really, so I ‘solved’ this by issuing an Oauth token that only knows about public repos. And second, a small patch to work around a bug with User objects in the underlying Github egg:</p>
<pre>￼-       os.system("git config --local gitweb.owner %s"%(shell_escape("%s &lt;%s&gt;"%(repo.user.name, repo.user.email.encode("utf-8"))),))
+       if hasattr(repo.user, 'email') and repo.user.email:
+               os.system("git config --local gitweb.owner %s"%(shell_escape("%s &lt;%s&gt;"%(repo.user.name, repo.user.email.encode("utf-8"))),))
</pre>
<p>Then I just shoved everything into a cron task and we’re good to go.</p>
<pre>@hourly GitHub-Backup/github-backup.py -m -t  vanceza /home/github/vanceza</pre>
<p>Edit: There’s a similar project for bitbucket I haven’t tried out: <a href="https://bitbucket.org/fboender/bbcloner">https://bitbucket.org/fboender/bbcloner</a></p>
</div>

<!-- comments -->
