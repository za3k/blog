---
author: admin
categories:
- Technical
date: 2014-11-23 14:35:14-07:00
markup: html
source: wordpress
tags:
- apis
- backup
- jq
- system administration
- twitter
title: Archiving twitter
updated: 2014-11-24 13:12:44-07:00
wordpress_id: 61
wordpress_slug: archiving-twitter
---
<!-- blogpost -->
<article class="post-61 post type-post status-publish format-standard hentry category-technical tag-apis tag-backup tag-jq tag-system-administration tag-twitter" id="post-61">
<h1 class="entry-title">Archiving twitter</h1>
<div class="entry-meta">
<span class="author vcard"> By  <a class="url fn n" href="https://blog.za3k.com/author/admin/" rel="author" title="View all posts by admin">admin</a> <span class="bl_sep">|</span></span> <time class="onDate date published" datetime="2014-11-23T14:35:14-07:00"> <a href="https://blog.za3k.com/archiving-twitter/" rel="bookmark" title="2:35 pm"><span class="entry-date">November 23, 2014</span> <span class="entry-time"> - 2:35 pm</span></a> </time><span class="bl_sep">|</span><time class="updated" datetime="2014-11-24T13:12:44-07:00">November 24, 2014</time> <span class="bl_categ"> <a href="https://blog.za3k.com/category/technical/" rel="tag">Technical</a> </span> </div><!-- .entry-meta -->
<div class="entry-content">
<p>(<a href="https://za3k.com/~twitter_archive/">Output</a>)</p>
<p>I wanted to archive twitter so that I could</p>
<ol>
<li>Make sure old content was easily available</li>
<li>Read twitter in a one-per-line format without ever logging into the site</li>
</ol>
<p><a href="https://github.com/mispy/twitter_ebooks">twitter_ebooks</a> is a framework to make twitter bots, but it includes an ‘archive’ component to fetch historical account content which is apparently unique in that it 1) works with current TLS and 2) works the current twitter API. It stores the tweets in a JSON format which presumably matches the API return values. Usage is simple:</p>
<pre>while read account
do
    <a href="https://github.com/mispy/twitter_ebooks">ebooks</a> archive "${account}" "archive/${account}.json"
    <a href="http://stedolan.github.io/jq/">jq</a> -r 'reverse | .[] | "\(.created_at|@sh)\t \(.text|@sh)"' "archive/${account}.json" &gt;"archive/${account}.txt"
done &lt;accounts.txt</pre>
<p>I ran into a bug with <a href="https://github.com/mispy/twitter_ebooks/issues/34">upstream incompatibilities</a> which is easily fixed. Another caveat is that the twitter API only allows access 3200 tweets back in time for an account–all the more reason to set up archiving ASAP. Twitter’s rate-limiting is also extreme (<a href="https://dev.twitter.com/rest/public/rate-limiting">15-180 req/15 min</a>), and I’m <a href="https://github.com/mispy/twitter_ebooks/issues/37">worried about</a> a problem where my naive script can’t make it through a list of more than 15 accounts even with no updates.</p>
<p> </p>
<p> </p>
</div><!-- .entry-content -->
<div class="entry-utility">
<span class="bl_posted">Tagged <a href="https://blog.za3k.com/tag/apis/" rel="tag">apis</a>, <a href="https://blog.za3k.com/tag/backup/" rel="tag">backup</a>, <a href="https://blog.za3k.com/tag/jq/" rel="tag">jq</a>, <a href="https://blog.za3k.com/tag/system-administration/" rel="tag">system administration</a>, <a href="https://blog.za3k.com/tag/twitter/" rel="tag">twitter</a>.</span><span class="bl_bookmark"> Bookmark the  <a href="https://blog.za3k.com/archiving-twitter/" rel="bookmark" title="Permalink to Archiving twitter"> permalink</a>.</span> </div><!-- .entry-utility -->
</article>

<!-- comments -->
